<div class="container-fluid py-4">

  <!-- Customer Preview -->
  <div class="shadow-sm rounded-4 p-4 bg-white mb-4">
    <h5 class="mb-3 text-primary">
      <i class="bi bi-person-badge"></i> Customer Preview
    </h5>

    <div class="d-flex justify-content-between mb-2">
      <span class="text-secondary">Customer ID</span>
      <strong>{{ accounts$.id }}</strong>
    </div>

    <div class="d-flex justify-content-between mb-2">
      <span class="text-secondary">Customer Name</span>
      <strong>{{ accounts$.name }}</strong>
    </div>

    <div class="d-flex justify-content-between mb-3">
      <span class="text-secondary">Customer Email</span>
      <strong>{{ accounts$.email }}</strong>
    </div>
  </div>

  <!-- Accounts -->
  <div class="card shadow-sm mb-4" *ngFor="let acc of accounts$.bankAccounts">
    <div class="card-header bg-light fw-bold">
      Account: {{ acc.id }} ({{ acc.type }})
    </div>
    <div class="card-body">

      <p><strong>Balance:</strong> {{ acc.balance | number:'1.2-2' }} DH</p>

      <button class="btn btn-info btn-sm mb-3"
              [routerLink]="['/accounts', acc.id]">
        View Details
      </button>

      <!-- Transactions -->
      <table class="table table-hover align-middle">
        <thead class="table-light">
        <tr>
          <th>Date</th>
          <th>Description</th>
          <th>Amount</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let tx of acc.transactions">
          <td>{{ tx.date }}</td>
          <td>{{ tx.description }}</td>
          <td [ngClass]="{'text-success': tx.amount > 0, 'text-danger': tx.amount < 0}">
            {{ tx.amount | number:'1.2-2' }} DH
          </td>
        </tr>
        </tbody>
      </table>

    </div>
  </div>

</div>
